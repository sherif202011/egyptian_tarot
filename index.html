<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Egyptian Tarot — بوابة الأسرار</title>
  <meta name="theme-color" content="#0b0f14" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FT411QCXLJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-FT411QCXLJ', { 'anonymize_ip': true });
  </script>

  <style>
    :root{
      --bg:#0b0f14; --panel:#111823; --panel-2:#0f1722;
      --text:#e8f0ff; --muted:#98a2b3;
      --brand:#7cc4ff; --accent:#f4b86e; --ok:#25d366; --warn:#ffb84d; --danger:#ff6b6b;
      --card:#0e1520; --cardBorder:#0b2942;
      --radius:18px; --shadow:0 10px 28px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Kufi Arabic", "Cairo", Tahoma, Arial, sans-serif;
      background: radial-gradient(1000px 600px at 80% -10%, #122034 0%, #0b0f14 60%) fixed, var(--bg);
      color:var(--text);
    }
    a{color:inherit; text-decoration:none}
    .container{max-width:980px; margin:0 auto; padding:22px 16px 80px}
    .hero{
      background:linear-gradient(135deg, rgba(124,196,255,.15), rgba(244,184,110,.10));
      border:1px solid var(--cardBorder);
      border-radius:var(--radius);
      padding:28px; box-shadow:var(--shadow);
      margin-top:18px;
    }
    .hero h1{margin:0 0 6px; font-size:32px; line-height:1.25}
    .hero p{margin:0; color:var(--muted); font-size:15.5px}
    .chips{display:flex; flex-wrap:wrap; gap:10px; margin:18px 0 4px}
    .chip{
      padding:10px 14px; border-radius:999px; background:#101827; border:1px solid #1d2a3a;
      color:#d6e4ff; font-size:14px; transition:.2s;
    }
    .chip:hover{transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.25)}
    .card{
      background:linear-gradient(180deg,var(--panel)0%,var(--panel-2)100%);
      border:1px solid var(--cardBorder); border-radius:var(--radius);
      padding:18px; box-shadow:var(--shadow);
    }
    .grid{display:grid; gap:14px}
    @media(min-width:720px){ .grid{grid-template-columns:1fr 1fr} }

    .title{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px}
    .title h2{margin:0; font-size:20px}
    .muted{color:var(--muted); font-size:14px}

    /* اختبر حدسك */
    .stone-wrap{display:flex; align-items:center; gap:16px; flex-wrap:wrap}
    .stone{
      width:120px; height:120px; border-radius:26px; background:#0d1420; border:1px dashed #2b3b55;
      display:grid; place-items:center; font-weight:700; font-size:22px; color:#9db4d1; cursor:pointer; user-select:none;
      transition:.2s;
    }
    .stone:hover{transform:translateY(-2px)}
    .palette{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    .swatch{
      width:36px; height:36px; border-radius:12px; border:2px solid #152234; cursor:pointer; outline:2px solid transparent; outline-offset:2px;
    }
    .swatch[aria-checked="true"]{outline-color:#fff}
    .actions{display:flex; gap:10px; flex-wrap:wrap}
    .btn{padding:10px 14px; border-radius:12px; border:1px solid #1d2a3a; background:#122034; color:#e8f0ff; cursor:pointer}
    .btn.brand{background:#133652; border-color:#1d4a6f}
    .result{margin-top:8px; font-weight:600}
    .result.ok{color:var(--ok)} .result.no{color:var(--warn)}

    /* رسائل اليوم */
    .pill{display:inline-block; padding:6px 10px; border-radius:999px; background:#0f2032; border:1px solid #18324b; margin:6px 8px 0 0; font-size:14px}

    /* الأبراج */
    .row{display:flex; gap:10px; flex-wrap:wrap}
    .select{appearance:none; background:#0f2032; border:1px solid #1c3148; color:#e8f0ff; padding:10px 12px; border-radius:12px; min-width:160px}
    .traits{list-style: "• "; padding-inline-start:18px; margin:10px 0 0}
    footer{opacity:.7; margin-top:26px; text-align:center; font-size:14px}
  </style>
</head>
<body>
  <div class="container">

    <!-- العنوان -->
    <div class="hero">
      <h1>بوابة الأسرار 🔮</h1>
      <p>اكتشف كروتك ورسائلك اليومية، جرّب حدسك، واحجز قراءة خاصة… كل ده في مكان واحد.</p>

      <div class="chips">
        <a class="chip" href="#intuition">اختبر حدسك</a>
        <a class="chip" href="#daily">رسائل اليوم</a>
        <a class="chip" href="#zodiac">الأبراج</a>
        <a class="chip" href="#articles">المقالات</a>
        <a class="chip" href="#contact">تواصل</a>
      </div>
    </div>

    <!-- اختبر حدسك -->
    <section id="intuition" class="card">
      <div class="title">
        <h2>اختبر حدسك ✨</h2>
        <span class="muted">خذ نفسًا عميقًا… عُد من 1 إلى 5… واختر اللون قبل أن تكشف الحجر.</span>
      </div>

      <div class="stone-wrap">
        <div id="stone" class="stone" title="اضغط للكشف">؟</div>
        <div>
          <div class="muted" style="margin-bottom:6px">اختر لونك:</div>
          <div class="palette" id="palette" role="radiogroup" aria-label="ألوان">
            <button class="swatch" style="background:#ef4444" data-color="red" aria-checked="true" role="radio"></button>
            <button class="swatch" style="background:#3b82f6" data-color="blue" role="radio"></button>
            <button class="swatch" style="background:#22c55e" data-color="green" role="radio"></button>
            <button class="swatch" style="background:#a855f7" data-color="purple" role="radio"></button>
            <button class="swatch" style="background:#f59e0b" data-color="amber" role="radio"></button>
          </div>

          <div class="actions" style="margin-top:12px">
            <button class="btn brand" id="revealBtn">اكشف اللون</button>
            <button class="btn" id="againBtn" style="display:none">عيد المحاولة</button>
          </div>
          <div id="intuitionResult" class="result muted"></div>
        </div>
      </div>
    </section>

    <!-- رسائل اليوم -->
    <section id="daily" class="card">
      <div class="title">
        <h2>رسائل اليوم ⭐</h2>
        <span class="muted">٣ رسائل سريعة للطف يومك.</span>
      </div>
      <div id="dailyMsgs"></div>
      <div class="actions" style="margin-top:12px">
        <button class="btn" id="refreshMsgs">رسائل جديدة</button>
      </div>
    </section>

    <!-- الأبراج -->
    <section id="zodiac" class="card">
      <div class="title">
        <h2>زاوية الأبراج ♈︎</h2>
        <span class="muted">اختَر برجك ونوعك، وشوف السمات والعيوب الملخّصة.</span>
      </div>

      <div class="row" style="margin-bottom:10px">
        <select id="signSel" class="select" aria-label="البرج">
          <option value="aries">الحمل</option>
          <option value="taurus">الثور</option>
          <option value="gemini">الجوزاء</option>
          <option value="cancer">السرطان</option>
          <option value="leo">الأسد</option>
          <option value="virgo">العذراء</option>
          <option value="libra">الميزان</option>
          <option value="scorpio">العقرب</option>
          <option value="sagittarius">القوس</option>
          <option value="capricorn">الجدي</option>
          <option value="aquarius">الدلو</option>
          <option value="pisces">الحوت</option>
        </select>

        <select id="genderSel" class="select" aria-label="النوع">
          <option value="male">رجل</option>
          <option value="female">أنثى</option>
        </select>
      </div>

      <div class="grid">
        <div class="card" style="background:#0f1722;border-color:#1a2a40">
          <strong>السمات:</strong>
          <ul id="traits" class="traits"></ul>
        </div>
        <div class="card" style="background:#0f1722;border-color:#1a2a40">
          <strong>العيوب:</strong>
          <ul id="flaws" class="traits"></ul>
        </div>
      </div>
    </section>

    <!-- مقالات مختصرة (مكان للزيادة لاحقًا) -->
    <section id="articles" class="card">
      <div class="title">
        <h2>المقالات 📝</h2>
        <span class="muted">هنزود المقالات بشكل دوري — ده مجرد تمهيد.</span>
      </div>
      <p class="muted">• كيف تهيّئ طاقتك قبل القراءة — قريبًا<br/>• إشارات منامي: كيف تفرّق بين الرسالة والهاجس — قريبًا<br/>• دليل سريع لأساسيات التاروت — قريبًا</p>
    </section>

    <!-- تواصل -->
    <section id="contact" class="card">
      <div class="title"><h2>تواصل</h2></div>
      <p class="muted">راسلنا على: <a href="mailto:info@egyptiantarot.com">info@egyptiantarot.com</a></p>
    </section>

    <footer>Egyptian Tarot ©</footer>
  </div>

  <script>
    /* ============== اختبر حدسك ============== */
    const colors = {
      red:'#ef4444', blue:'#3b82f6', green:'#22c55e', purple:'#a855f7', amber:'#f59e0b'
    };
    let secret, chosen='red', revealed=false;

    function pickSecret(){
      const keys = Object.keys(colors);
      secret = keys[Math.floor(Math.random()*keys.length)];
      revealed=false;
      stone.style.background = '#0d1420';
      stone.textContent = '؟';
      intuitionResult.textContent = '';
      againBtn.style.display='none';
    }

    const stone = document.getElementById('stone');
    const palette = document.getElementById('palette');
    const intuitionResult = document.getElementById('intuitionResult');
    const revealBtn = document.getElementById('revealBtn');
    const againBtn = document.getElementById('againBtn');

    palette.addEventListener('click', (e)=>{
      const btn = e.target.closest('.swatch');
      if(!btn) return;
      [...palette.querySelectorAll('.swatch')].forEach(b=>b.setAttribute('aria-checked','false'));
      btn.setAttribute('aria-checked','true');
      chosen = btn.dataset.color;
    });

    function reveal(){
      if(revealed) return;
      stone.style.background = colors[secret];
      stone.textContent = '';
      revealed = true;
      if(chosen===secret){
        intuitionResult.textContent = 'إحساسك كان مظبوط! 👏';
        intuitionResult.className = 'result ok';
      }else{
        const map = {red:'أحمر',blue:'أزرق',green:'أخضر',purple:'بنفسجي',amber:'عنبر/ذهبي'};
        intuitionResult.textContent = `محاولة لطيفة! اللون كان: ${map[secret]} — جرّب تاني.`;
        intuitionResult.className = 'result no';
      }
      againBtn.style.display='inline-block';
    }

    revealBtn.addEventListener('click', reveal);
    stone.addEventListener('click', reveal);
    againBtn.addEventListener('click', pickSecret);
    pickSecret();

    /* ============== رسائل اليوم ============== */
    const allMsgs = [
      "أنت أقوى مما تتخيل — خطوة صغيرة اليوم تفتح بابًا كبيرًا.",
      "ابتسامتك طاقة، شاركها وراقب كيف ترجع لك مضاعفة.",
      "رسالة ودّ: اسقِ نيتك بالهدوء، وستزهر في وقتها.",
      "لا تؤجل اللطف — كلمة حلوة الآن تغيّر مزاج يومك.",
      "اختَر نفسك اليوم بلا تردد — الاستحقاق عادة.",
      "الكون يلمّح: وفرة تأتيك حين تترك التشبث.",
      "تنفّس… واسأل قلبك: ما أسهل خطوة الآن؟ وافعلها."
    ];
    const dailyBox = document.getElementById('dailyMsgs');
    const refreshBtn = document.getElementById('refreshMsgs');

    function seedFromDate(){
      const d = new Date(); return (d.getFullYear()*10000)+(d.getMonth()+1)*100 + d.getDate();
    }
    function prng(n){ // بسيط وثابت لليوم
      let x = seedFromDate(); const out=[];
      for(let i=0;i<n;i++){ x = (x*1664525 + 1013904223) % 4294967296; out.push(x); }
      return out;
    }
    function renderDaily(count=3){
      dailyBox.innerHTML='';
      const idxs = new Set();
      const rnd = prng(10);
      for(let i=0;i<rnd.length && idxs.size<count;i++){
        idxs.add(rnd[i] % allMsgs.length);
      }
      idxs.forEach(i=>{
        const p = document.createElement('span');
        p.className='pill';
        p.textContent = allMsgs[i];
        dailyBox.appendChild(p);
      });
    }
    renderDaily();
    refreshBtn.addEventListener('click', ()=>renderDaily());

    /* ============== الأبراج ============== */
    const DB = {
      aries:{
        male:{
          traits:["مباشر وشجاع","قائد بالفطرة","حماس عالي وصدق"],
          flaws:["اندفاع وعصبية","ملل سريع","يكره القيود"]
        },
        female:{
          traits:["جريئة وواضحة","قلبها كبير ومبادِرة","تعتمد على نفسها"],
          flaws:["حدّة أحيانًا","نفاد صبر","تتوقع الكثير"]
        }
      },
      taurus:{
        male:{traits:["ثابت وعملي","ذوق رفيع","صبور"],flaws:["عناد","بطء في التغيير","تمسك بالمألوف"]},
        female:{traits:["رومانسية ووفية","تقدّر الراحة والجمال","واقعية"],flaws:["عناد لطيف","حساسية تجاه النقد","تأجيل"]},
      },
      gemini:{
        male:{traits:["ذكي واجتماعي","متعدد الاهتمامات","حديث ممتع"],flaws:["تشتت","مزاجية","ملل سريع"]},
        female:{traits:["مرنة وفضولية","كاريزما","تتعلم بسرعة"],flaws:["تردد","تشتت","سطحية أحيانًا"]},
      },
      cancer:{
        male:{traits:["حنون وحامٍ","حدس قوي","وفي للعائلة"],flaws:["تقلب مزاج","حساسية زائدة","تمسك بالماضي"]},
        female:{traits:["أمومية وراقية","إلهام عاطفي","ولاء عميق"],flaws:["انفعال","قلق","انغلاق عند الجرح"]},
      },
      leo:{
        male:{traits:["كريم وقوي الحضور","قائد","قلب طفل"],flaws:["أنانية أحيانًا","حاجة للتقدير","عناد"]},
        female:{traits:["ملكة بطبعها","سخية","إبداع"],flaws:["تطلب الاهتمام","دراما","تمسك بالرأي"]},
      },
      virgo:{
        male:{traits:["دقيق ومنظم","عملي ونافع","ضمير حي"],flaws:["نقد زائد","قلق","مثالية"]},
        female:{traits:["رشيقة التفاصيل","مساعدة","مرتبة"],flaws:["تدقيق مزعج","حساسية للنقد","توتر"]},
      },
      libra:{
        male:{traits:["لبق ومتوازن","ذوق فني","علاقات جيدة"],flaws:["تردد","إرضاء الآخرين","تأجيل الحسم"]},
        female:{traits:["سِلمية وجذابة","تحب الانسجام","دبلوماسية"],flaws:["تردد","تشتت بالرأي","تجنب المواجهة"]},
      },
      scorpio:{
        male:{traits:["عميق ومخلص","حدس قوي","قوة داخلية"],flaws:["غيرة","تحكم","تطرف"]},
        female:{traits:["ساحرة وغامضة","إخلاص شديد","بصيرة"],flaws:["غيرة","شك","حدة"]},
      },
      sagittarius:{
        male:{traits:["مغامر ومتفائل","صريح","يحب الحرية"],flaws:["مباشرة زائدة","تهوّر","كره الروتين"]},
        female:{traits:["خفيفة الروح","محبة للسفر","صادقة"],flaws:["ملل","اندفاع","تأجيل التفاصيل"]},
      },
      capricorn:{
        male:{traits:["مسؤول وطموح","واقعي","صبر"],flaws:["صرامة","عملانية زائدة","برود ظاهري"]},
        female:{traits:["قوية وهادئة","تخطط جيدًا","ثقة بالنفس"],flaws:["عناد","انشغال بالعمل","تحفّظ"]},
      },
      aquarius:{
        male:{traits:["مختلف ومبتكر","إنساني","صداقة قوية"],flaws:["برود عاطفي","تمرد","مزاجية"]},
        female:{traits:["حرة التفكير","مُلهمة","صديقة مُخلصة"],flaws:["مسافة عاطفية","غير تقليدية جدًا","تقلّب"]},
      },
      pisces:{
        male:{traits:["خيال وروحانية","رحيم","فنان"],flaws:["هروب","تشتت","حساسية"]},
        female:{traits:["ناعمة وحنونة","إلهام","تعاطف"],flaws:["مثالية","تأثر بالآخرين","تردّد"]},
      }
    };

    const signSel = document.getElementById('signSel');
    const genderSel = document.getElementById('genderSel');
    const traitsUL = document.getElementById('traits');
    const flawsUL = document.getElementById('flaws');

    function renderZodiac(){
      const s = signSel.value, g = genderSel.value;
      const d = DB[s][g];
      traitsUL.innerHTML = d.traits.map(t=>`<li>${t}</li>`).join('');
      flawsUL.innerHTML  = d.flaws.map(t=>`<li>${t}</li>`).join('');
    }
    signSel.addEventListener('change', renderZodiac);
    genderSel.addEventListener('change', renderZodiac);
    renderZodiac();
  </script>
</body>
</html>
